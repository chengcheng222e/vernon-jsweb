<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="../../../main/webapp/js/global/jquery/1.8/jquery-1.8.1.js"></script>
    <script src="../../../main/webapp/plugin/select2/select2-3.5.1/select2.js"></script>
    <link rel="stylesheet" href="../../../main/webapp/plugin/select2/select2-3.5.1/select2.css"/>
</head>
<body>

Select2 Demo <br/>
<input id="demo1" type="text" value="" style="width: 500px;"/>

<input type="button" class="btn-info" id="e8_2_set2" value="Set to California and Massachusetts using data">
<script>
    $(function(){

        $('#demo1').select2({
            placeholder: "输入标签",
            minimumInputLength: 1,
            tags: true,
            tokenSeparators: [",", " "],
            ajax: {
                url: 'data.json',
                dataType: "json",
                data: function (term, page) {
                    return {
                        q: term
                    };
                },
                results: function (data, page) {
                    var results = [];
                    $.each(data, function(index, item){
                        results.push({
                            id: item.name,
                            text: item.name
                        });
                    });
                    return {
                        results: results
                    };
                },
                separator: "|"
            }
        });

        $("#e8_2_set2").click(function () {
            $("#demo1").select2("data", [
                {id: "CA", text: "California"},
                {id: "MA", text: "Massachusetts"}
            ]);
        });
    })

</script>
</body>
</html>